üî• O que esta API √© capaz de fazer at√© agora? üî•
Atualmente, sua API permite:

‚úÖ Gerenciamento de Usu√°rios (com JWT)
‚úî Criar contas de usu√°rios (registro)
‚úî Fazer login e obter um token JWT
‚úî Autenticar requisi√ß√µes com esse token JWT

‚úÖ Upload e Download de Arquivos
‚úî Enviar qualquer tipo de arquivo (PDF, DOCX, XLSX, imagens, etc.) para o MongoDB (via GridFS)
‚úî Preservar imagens, tabelas, links e formata√ß√£o dos documentos
‚úî Fazer o download do arquivo exatamente como foi enviado

‚úÖ Relacionamento do Arquivo com Usu√°rio
‚úî O usu√°rio autenticado √© salvo junto ao arquivo que enviou
‚úî Cada usu√°rio s√≥ pode ver seus pr√≥prios arquivos

‚úÖ Versionamento de Arquivos
‚úî Cada novo upload do mesmo arquivo gera uma nova vers√£o
‚úî O hist√≥rico de vers√µes √© armazenado com data e hora
‚úî O usu√°rio pode ver todas as vers√µes do seu documento

‚úÖ Listagem e Gerenciamento de Arquivos
‚úî O usu√°rio pode listar os arquivos que enviou
‚úî O usu√°rio pode ver todas as vers√µes de um arquivo
‚úî √â poss√≠vel remover arquivos, mantendo um registro no hist√≥rico

------------------------ update
At√© agora, a API que constru√≠mos tem os seguintes recursos principais implementados:

1. Upload de Arquivo
Endpoint: POST /files/upload
Fun√ß√£o: Permite que o usu√°rio logado envie arquivos para o sistema.
O arquivo √© salvo no GridFS do MongoDB.
O documento tamb√©m √© registrado no banco de dados, com o ID do usu√°rio que fez o upload.
O sistema registra a primeira vers√£o do arquivo no hist√≥rico de vers√µes do documento.
2. Compartilhamento de Documento
Endpoint: POST /files/share/{documentId}
Fun√ß√£o: Permite que o usu√°rio logado compartilhe um documento com outro usu√°rio via e-mail.
O documento √© compartilhado com um e-mail, atribuindo a ele um n√≠vel de permiss√£o.
O n√≠vel de permiss√£o pode ser leitura ou edi√ß√£o.
Um e-mail √© enviado ao usu√°rio informado, notificando sobre o compartilhamento e o n√≠vel de permiss√£o concedido.
3. Listar Arquivos do Usu√°rio
Endpoint: GET /files/my-files
Fun√ß√£o: Retorna todos os documentos que o usu√°rio logado fez o upload.
O usu√°rio s√≥ pode ver seus pr√≥prios arquivos (a menos que seja admin).
4. Download de Arquivo
Endpoint: GET /files/download/{id}
Fun√ß√£o: Permite que o usu√°rio baixe um documento especificado pelo seu ID.
Usu√°rio Comum: Pode baixar qualquer arquivo.
Admin: Pode baixar qualquer arquivo.
Regras de Permiss√£o: A verifica√ß√£o de permiss√µes s√≥ restringe modifica√ß√µes (altera√ß√£o e exclus√£o), n√£o o download.
5. Visualizar Hist√≥rico de Vers√µes
Endpoint: GET /files/file-versions/{documentId}
Fun√ß√£o: Permite que o usu√°rio veja as vers√µes anteriores de um documento.
Usu√°rio Comum: S√≥ pode ver o hist√≥rico de vers√µes dos documentos que ele fez o upload.
Admin: Pode ver o hist√≥rico de qualquer documento.
O hist√≥rico de vers√µes √© armazenado no banco de dados, e cada vers√£o est√° ligada ao ID do arquivo no GridFS.
6. Baixar Vers√£o Espec√≠fica do Arquivo
Endpoint: GET /files/download-version/{documentId}/{versionIndex}
Fun√ß√£o: Permite que o usu√°rio baixe uma vers√£o espec√≠fica do arquivo.
Usu√°rio Comum: S√≥ pode baixar vers√µes de arquivos que ele fez o upload.
Admin: Pode baixar qualquer vers√£o de qualquer documento.
A vers√£o espec√≠fica √© recuperada do GridFS.
7. Deletar Arquivo
Endpoint: DELETE /files/delete/{id}
Fun√ß√£o: Permite que o usu√°rio delete um documento do sistema.
Usu√°rio Comum: S√≥ pode deletar documentos que ele fez o upload.
Admin: Pode deletar qualquer documento.
O arquivo √© exclu√≠do do GridFS e o documento √© removido do banco de dados.
Regras de Permiss√µes
A API possui as seguintes regras de permiss√£o:

Usu√°rio Comum:

Pode baixar qualquer documento.
S√≥ pode alterar (fazer upload de novas vers√µes) e ver o hist√≥rico de vers√µes de documentos que fez o upload.
N√£o pode deletar ou alterar documentos de outros usu√°rios.
Admin:

Tem permiss√µes completas: pode baixar, alterar, ver o hist√≥rico e excluir qualquer documento.
Pode compartilhar documentos e gerenciar permiss√µes.

-----------------------------update

